## 播放视频
> 请求播放视频

**请求参数**

| 参数 | 类型 | 必填 | 备注 |
| --- | --- | --- | --- |
| `type` | integer | 是 | 可选值见[`数据结构-接口类型`](#数据类型) |
| `url` | String | 是 |  |
| `use_gpu` | integer | 是 | 0为关闭硬解，1为开启 |
| `use_tcp` | integer | 否 | 仅用于RTSP，默认开启 |
| `width` | integer | 是 | 可选值见[`数据类型-分辨率列表`](#分辨率列表) |
| `height` | integer | 是 | 可选值见[`数据类型-分辨率列表`](#分辨率列表) |

**请求示例**
```json
{
    "type": 1,
    "param": {
      "url": "rtsp://192.168.1.100/live",
      "use_gpu": 1,
      "use_tcp": 1,
      "width": 1280,
      "height": 720,
    }
}
```
**响应示例**
```json
{
    "type": 1,
    "result": 404,
    "message": "错误描述信息",
}
```
## 停止播放
> 请求停止播放视频。

**请求参数**

| 参数 | 类型 | 必填 | 备注 |
| --- | --- | --- | --- |
| `type` | integer | 是 |  |

**请求示例**
```json
{
    "type": 2,
}
```
**响应示例**
```json
{
    "type": 1,
    "result": 404,
    "message": "错误描述信息",
}
```
## 修改分辨率
> 请求修改视频分辨率。

**请求参数**

| 参数 | 类型 | 必填 | 备注 |
| --- | --- | --- | --- |
| `type` | integer | 是 |  |
| `width` | integer | 是 |  |
| `hetght` | integer | 是 |  |

**请求示例**
```json
{
    "type": 3,
    "param": {
      "width": 1280,
      "hetght": 720,
    }
}
```
**响应示例**
```json
{
    "type": 1,
    "result": 404,
    "message": "错误描述信息",
}
```
分辨率可选值
## 开启抽帧
> 请求开启/关闭抽帧。

**请求参数**

| 参数 | 类型 | 必填 | 备注 |
| --- | --- | --- | --- |
| `type` | integer | 是 |  |
| `enabled` | String | 是 | 0为关闭，1为开启 |

**请求示例**
```json
{
    "type": 4,
    "param": {
      "enabled": 1,
    }
}
```
**响应示例**
```json
{
    "type": 1,
    "result": 404,
    "message": "错误描述信息",
}
```
## 获取版本
> 请求开启/关闭抽帧。

**请求参数**

| 参数 | 类型 | 必填 | 备注 |
| --- | --- | --- | --- |
| `type` | integer | 是 |  |
| `enabled` | String | 是 | 0为关闭，1为开启 |

**请求示例**
```json
{
    "type": 5,
}
```
**响应示例**
```json
{
    "type": 5,
    "result": 404,
    "message": "错误描述信息",
    "version": "1.1.1",
}
```
## 回调接口（错误信息）
> 当插件出现故障时，会主动推送错误信息到Web端。收到该信息后，可自行处理，比如结束播放。

**回调参数**

| 参数 | 类型 | 必填 | 备注 |
| --- | --- | --- | --- |
| `url` | Stirng | 是 |  |
| `result` | integer | 是 | 错误码 |
| `message` | String | 是 | 错误描述信息 |

**回调示例**
```json
{
    "url": "rtsp://192.168.1.100/live",
    "result": 1234,
    "message": "错误描述信息",
}
```
## 回调接口（媒体数据）
> 音视频回调数据为二进制

**回调参数**
```
+-------------------------+
| 0 | 1 | 2 | 3 | 4 5 6 7 |
| T | R | C | S |Timestamp|
+-------------------------+
```
注：

1. T 为媒体数据类型，0x00为音频，0x01为视频
2. 当T为视频时，R是分辨率，对应关系见[`数据类型-分辨率列表`](#分辨率列表)。<br>
   当T为音频时，R是位深，对应关系见[`数据类型-位深列表`](#位深列表)
3. C为音频通道数，仅音频有效，见[`数据类型-通道列表`](#通道列表)
4. S为音频采样率，仅音频有效，见[`数据类型-采样率列表`](#采样率列表)
5. Timestamp为时间戳，占4个字节。
## 数据类型
### 接口类型
| 值 | 描述 |
| --- | --- |
| 1 | 播放 |
| 2 | 停止 |
| 3 | 修改分辨率 |
| 4 | 开启抽帧 |
| 5 | 获取版本 |

### 分辨率列表
| 二进制 | width | height |
| --- | --- | --- |
| 0x00 | 256 | 144 |
| 0x01 | 640 | 360 |
| 0x02 | 800 | 600 |
| 0x03 | 1280 | 720 |
| 0x04 | 1920 | 1080 |

### 位深列表
| 二进制 | 位深 |
| --- | --- |
| 0x01 | 8位 |
| 0x02 | 16位 |
| 0x03 | 32位 |
| 0x04 | 64位 |

### 通道列表
| 二进制 | 通道数 |
| --- | --- |
| 0x01 | 单通道 |
| 0x02 | 双通道 |
| 0x03 | 四通道 |
| 0x04 | 八通道 |

### 采样率列表
| 二进制 | 采样率 |
| --- | --- |
| 0x00 | 8000 |
| 0x01 | 12000 |
| 0x02 | 16000 |
| 0x03 | 32000 |
| 0x04 | 441000 |
| 0x05 | 48000 |
| 0x06 | 96000 |

